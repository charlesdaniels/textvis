<!DOCTYPE html>
<meta charset="utf-8">
<head>
    <meta charset="UTF-8">
    <title>TextVis Example 1</title>
    <link href="textvis.css" rel="stylesheet" type="text/css" media="all">
</head>

<ul class="topnav">
    <li><a href="./index.html">Welcome</a></li>
    <li><a href="./visualization.html">Visualization</a></li>
    <li><a class="active" href="">Example 1</a></li>
    <li><a href="./demo2.html">Example 2</a></li>
</ul>

<div style: 'text-align: center'>
<button id="download_json_button" onclick="handle_button_click()">Download JSON</button>
<button id="download_svg_btn">Download SVG</button>
</div>

<div id="graph_container">
</div>

<script src="https://d3js.org/d3.v5.min.js"></script>
<script src="./textvis.js"></script>
<script src="./textvis_util.js"></script>

<script>


    paragraphs = [
        {
            "index": 0,
            "sentences": [
                {"index": 0, "words": "This is the first sentence."},
                {"index": 1, "words": "This is the second sentence."},
            ]
        },
        {
            "index": 1,
            "sentences": [
                {"index": 0, "words": "Another sentence!"},
                {"index": 1, "words": "Wow, such sentence, very words."},
            ]
        },
        {
            "index": 2,
            "sentences": [
                {"index": 0, "words": "Yo dawg, I heard you liked words."},
                {"index": 1, "words": "So I put some words in this sentence."},
                {"index": 2, "words": "So you can word while you word."},
                {"index": 3, "words": "All the test data is belong to me."},
            ],
            "annotation": '<svg height="150" width="500"><ellipse cx="240" cy="100" rx="220" ry="30" style="fill:purple" /><ellipse cx="220" cy="70" rx="190" ry="20" style="fill:lime" /><ellipse cx="210" cy="45" rx="170" ry="15" style="fill:yellow" /></svg>',

        }
    ]

    relations = [
        {
            "from": {"paragraph": 0, "sentence": 1},
            "to": {"paragraph": 2, "sentence": 3},
            "annotation": "Informative data provided by API client."
        },
        {
            "from": {"paragraph": 1, "sentence": 0},
            "to": {"paragraph": 2, "sentence": 1},
            "annotation": "This should be a tooltip."
        }
    ]

    data = {"paragraphs": paragraphs, "relations": relations};
    function handle_button_click() {
        downloadObjectAsJson(data, "data.json");
    }

    instantiate_vis('#graph_container', '#download_svg_btn', paragraphs, relations);
</script>
