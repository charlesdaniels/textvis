<!DOCTYPE html>
<meta charset="utf-8">
<head>
    <meta charset="UTF-8">
    <title>TextVis Example 2</title>
    <link href="textvis.css" rel="stylesheet" type="text/css" media="all">
</head>

<ul class="topnav">
    <li><a href="./index.html">Welcome</a></li>
    <li><a href="./visualization.html">Visualization</a></li>
    <li><a href="./demo1.html">Example 1</a></li>
    <li><a href="./demo2.html">Example 2</a></li>
    <li><a class="active" href="">Example 3</a></li>
</ul>

<div style: 'text-align: center'>
<button id="download_json_button" onclick="handle_button_click()">Download JSON</button>
<button id="download_svg_btn">Download SVG</button>
</div>

<div id="graph_container">
</div>

<script src="https://d3js.org/d3.v5.min.js"></script>
<script src="./textvis.js"></script>
<script src="./textvis_util.js"></script>

<script>


    paragraphs = [
        {
            "index": 0,
            "sentences": [
                {"index": 0, "words": "Place the mouse on each sentence", "heat": 0.4},
                {"index": 1, "words": "Each sentence carries a specidfic weight that can be seen by highlight color.", "heat": 0.4},
                {"index": 2, "words": "The darker the color, heavier the wieght.", "heat": 0.0},
            ]
        },
        {
            "index": 1,
            "sentences": [
                {"index": 0, "words": "Sentences are weighted between 0.0 and 1.", "heat": 0.9},
                {"index": 1, "words": "Sentences without a highlight haves a weight of 0.", "heat": 0.0},
                {"index": 2, "words": "This is the last sentence.", "heat": 0.2},
            ]
        }
    ]



    relations = [
        {
            "from": {"paragraph": 0, "sentence": 0},
            "to": {"paragraph": 0, "sentence": 1},
            "annotation": ""
        },
        {
            "from": {"paragraph": 1, "sentence": 0},
            "to": {"paragraph": 1, "sentence": 2},
        },
        {
            "from": {"paragraph": 0, "sentence": 0},
            "to": {"paragraph": 1, "sentence": 0},
        }
    ]

    data = {"paragraphs": paragraphs, "relations": relations};
    function handle_button_click() {
        downloadObjectAsJson(data, "data.json");
    }

    instantiate_vis('#graph_container', '#download_svg_btn', paragraphs, relations);
</script>
